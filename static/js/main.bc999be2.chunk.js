(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/defaultImg.771c325a.jpg"},14:function(e,t,a){e.exports=a(28)},26:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(12),s=a(13),l=a(3),u=r.a.createContext(),d={episodes:[],favourites:[]};function m(e,t){switch(t.type){case"FETCH_DATA":return Object(l.a)({},e,{episodes:t.payload});case"ADD_FAV":return Object(l.a)({},e,{favourites:[].concat(Object(s.a)(e.favourites),[t.payload])});case"REMOVE_FAV":return Object(l.a)({},e,{favourites:t.payload});default:return e}}var p=a(2);a(26);var f=a(4),v=a.n(f),E=a(10),y=a(11),h=a.n(y);function g(e){var t=e.episodes,a=e.toggleFavAction,n=e.favourites;return t.map(function(e){return r.a.createElement("section",{className:"episode-box",key:e.id},null!==e.image?r.a.createElement("img",{src:e.image.medium,alt:"Rick and Morty ".concat(e.name)}):r.a.createElement("img",{src:h.a,style:{height:"150px",width:"150px"},alt:"Default"}),r.a.createElement("div",null,e.name),r.a.createElement("section",null,r.a.createElement("div",null,"Season: ",e.season," Number: ",e.number),r.a.createElement("button",{type:"button",onClick:function(){return a(e)}},n.find(function(t){return t.id===e.id})?"Unfav":"Fav")))})}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(function(e){var t=r.a.useReducer(m,d),a=Object(i.a)(t,2),n={state:a[0],dispatch:a[1]};return r.a.createElement(u.Provider,{value:n},e.children)},null,r.a.createElement(p.b,null,r.a.createElement(function(e){var t=r.a.useContext(u).state;return r.a.createElement(r.a.Fragment,null,console.log(t),r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,"Rick and Morty"),r.a.createElement("p",null,"Pick your favourite episodes")),r.a.createElement("div",null,r.a.createElement(p.a,{to:"/"},"Home")," ",r.a.createElement(p.a,{to:"/faves"},"Favourite(s) ",t.favourites.length))),e.children)},{path:"/"},r.a.createElement(function(){var e=r.a.useContext(u),t=e.state,a=e.dispatch,c=function(){var e=Object(E.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",a({type:"FETCH_DATA",payload:n._embedded.episodes}));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){0===t.episodes.length&&c()},[]);var o={episodes:t.episodes,toggleFavAction:function(e){var n=t.favourites.includes(e),r={type:"ADD_FAV",payload:e};return n&&(r={type:"REMOVE_FAV",payload:t.favourites.filter(function(t){return t.id!==e.id})}),a(r)},favourites:t.favourites};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},console.log(t),r.a.createElement("section",{className:"episode-layout"},r.a.createElement(g,o))))},{path:"/"}),r.a.createElement(function(){var e=r.a.useContext(u),t=e.state,a=e.dispatch,n={episodes:t.favourites,toggleFavAction:function(e){var n=t.favourites.includes(e),r={type:"ADD_FAV",payload:e};return n&&(r={type:"REMOVE_FAV",payload:t.favourites.filter(function(t){return t.id!==e.id})}),a(r)},favourites:t.favourites};return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement("div",{className:"episode-layout"},r.a.createElement(g,n)))},{path:"/faves"}))))),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.bc999be2.chunk.js.map